<extend name="Base/common_login"/>
<block name="style">
    <style>
        .copy {display: none;}
        .footer-ico {display: none;}
    </style>
</block>
<!-- 头部 -->
<block name="body">
    <header  style="background: #fff">
        <div class="head clear towp">
              <php>$logo = C('SITE_LOGO')</php>
        <style>

            .head .logos {
                background: rgba(0, 0, 0, 0) url("__PICURL__logo/{$logo|get_cover='path'}") no-repeat scroll center center;
            }
        </style>
            <a href="{:U('Index/index')}" class="logos"></a>
            <a href="javascript:;;" class="logins">注册</a>
            <a href="{:U('Index/index')}" class="i_back">返回首页</a>
        </div>
    </header>
    <!-- 内容 -->
    <div class="towp" >
        <div class="register towp information">
            <div class="steps"></div>
            <form action="{:U('member/savememberinfo')}" method="post" class="validate" onsubmit="validateCallback(this, dialogAjaxDone);
                    return false;">
                <p>登录名：<span>{$reg_info.mobile}</span></p>
                <p class="clear"><label><i>*</i>登录密码：</label><input type="password" name="password" id="password" value="" autocomplete="off" /><em></em></p>
                <p class="clear"><label><i>*</i>密码确认：</label><input type="password" name="repassword" id="repassword" value="" autocomplete="off" /><em></em></p>
                <p class="clear"><label><i>*</i>会员昵称：</label><input type="text" name="nickname" id="nickname" value="" autocomplete="off" /><em></em></p>
                <p class="agreed" class="clear"><input type="checkbox" name="agree" checked="checked" id="agree" value="1" />
                    <span>我已阅读并同意<a href="{:U('Help/detail',array('id'=>'zhucexieyi'))}" target="_blank">《妙品生活用户注册协议》</a></span>
                    <em></em>
                </p>
                <input class="next" type="submit" id="" value="立即注册" />
            </form>
        </div>
    </div>
    <!-- 内容  END-->
</block>
<block name="script"> 
    <script src="__JS__/jquery.validate.js" type="text/javascript"></script>
    <script type="text/javascript">
                $(function() {
                    if ($('form.validate').length) {
                        $('form.validate').validate({
                            rules: {
                                password: {
                                    required: true,
                                    rangelength: [6, 12]
                                },
                                repassword: {
                                    required: true,
                                    rangelength: [6, 12]
                                },
                                nickname: {
                                    required: true,
                                },
                                agree: {
                                    required: true
                                }


                            },
                            messages: {
                                password: {
                                    required: '请输入登录密码',
                                    rangelength: "密码介于{0}和{1}之间的字符串"
                                },
                                repassword: {
                                    required: '请输入确认密码',
                                    rangelength: "密码介于{0}和{1}之间的字符串",
                                    equalTo: '#password'
                                },
                                nickname: {
                                    required: '请输入会员昵称',
                                },
                                agree: {
                                    required: '请阅读并同意该协议'
                                }
                            },
                            errorPlacement: function(error, element) {
                                error.appendTo(element.parent().find("em"));
                            }
                        });
                    }
                });
    </script>
</block> 